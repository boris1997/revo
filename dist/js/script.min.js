class Slider{constructor(t,e,i,s,n,r,o,a,l){this.content=t,this.main=e,this.arrow=i,this.slideResizeOberverObj=s,this.toggleResizeOberverObj=l,this.toggleBtn=n,this.toggleMoveGif=r,this.slideNumber=a,this.isDragging=!1,this.currentIndex=0,this.startPos=0,this.translateStepX=0,this.currentTranslationX=0,this.currentTranslationMove,this.margin=0,this.elemntsMargins=0,this.prevTranslation=0,this.animationID=0,this.stopperFactor=o,this.oserver=null}initDrag=()=>{this.content.map(((t,e)=>{t.addEventListener("dragstart",(t=>t.preventDefault())),t.addEventListener("touchstart",this.touchStart(e),{passive:!0}),t.addEventListener("touchend",(t=>this.touchEnd(t))),t.addEventListener("touchmove",this.touchMove,{passive:!0}),t.addEventListener("mousedown",this.touchStart(e),{passive:!0}),t.addEventListener("mouseup",(t=>this.touchEnd(t))),t.addEventListener("mousemove",this.touchMove,{passive:!0}),t.addEventListener("mouseleave",(t=>this.isDragging&&this.touchEnd(t)))}))};contextMenu=()=>{window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1)};animation=()=>{this.setSliderPositionX(this.main,this.currentTranslationX),this.isDragging&&requestAnimationFrame(this.animation)};touchStart=t=>t=>{this.main.classList.remove("carousel__content--smooth"),this.startPos=this.getPositionX(t),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation)};touchMove=t=>{if(this.isDragging){let e=this.getPositionX(t);console.log((this.translateStepX*this.content.length+this.elemntsMargins).toFixed()),console.log((Math.abs(this.currentTranslationX)+100).toFixed()),(Math.abs(this.currentTranslationX)+100).toFixed()<=(this.translateStepX*this.content.length+this.elemntsMargins).toFixed()&&this.currentTranslationX<2&&(this.currentTranslationX=this.absToPercent(this.prevTranslation*this.main.clientWidth/100+e-this.startPos,this.main.clientWidth))}};touchEnd=t=>{cancelAnimationFrame(this.animationID),this.isDragging=!1,this.main.classList.add("carousel__content--smooth"),this.currentIndex<this.content.length&&Math.abs(this.currentTranslationX)>Math.abs(this.prevTranslation)+this.translateStepX/3&&this.currentIndex++,this.currentIndex>=0&&Math.abs(this.currentTranslationX)<Math.abs(this.prevTranslation)-this.translateStepX/3&&this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts()};initArrowsBtns=()=>{this.arrow[0].addEventListener("click",(()=>this.left())),this.arrow[1].addEventListener("click",(()=>this.rigth()))};rigth=()=>{this.currentIndex<this.getMainToContentIndex()&&(this.currentIndex++,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};left=()=>{Math.abs(this.currentTranslationX)>0&&(this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};initToggleBtns=()=>{this.toggleBtn.map(((t,e)=>t.addEventListener("click",(()=>{!this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),this.currentIndex=e,this.setCurrentXTranslation(),this.setSliderPositionX(this.main,this.currentTranslationX),this.setSlideNumber(this.slideNumber),"column"===this.direction()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))}))))};direction=()=>window.getComputedStyle(this.toggleBtn[0].parentElement).flexDirection;changeArrowActivity=()=>{console.log(this),Math.abs(this.currentTranslationX)>0?this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.remove("carousel__toggle-btn--unactive"):!this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.add("carousel__toggle-btn--unactive"),this.currentIndex===this.getMainToContentIndex()?this.arrow[1].classList.add("carousel__toggle-btn--unactive"):this.arrow[1].classList.remove("carousel__toggle-btn--unactive")};getUnactiveElts=()=>this.content.map(((t,e)=>{const i=this.percentToAbsolute(Math.abs(this.currentTranslationX),this.main.clientWidth).toFixed();this.main.clientWidth<=t.offsetLeft+this.margin+e-i||t.offsetLeft+e-i<0?t.classList.add("carousel__item--unActive"):t.classList.contains("carousel__item--unActive")&&t.classList.remove("carousel__item--unActive")}));slideRzeObrCallback=t=>{if(this.getTranslateStepX(),this.currentIndex>this.getMainToContentIndex()){const t=this.currentIndex-this.getMainToContentIndex();this.currentIndex-=t}console.log(this.currentIndex),this.setPrevTranslation(),this.getMainToContentIndex(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts()};slideResizeObserver=()=>{this.resizerSlide=new ResizeObserver(this.slideRzeObrCallback),this.resizerSlide.observe(this.slideResizeOberverObj)};toggleContainerRzeObrCallback=()=>{this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),"column"===this.direction()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))};toggleContainerResizeObserver=()=>{this.resizerToggler=new ResizeObserver(this.toggleContainerRzeObrCallback),console.log(this.toggleResizeOberverObj),this.resizerToggler.observe(this.toggleResizeOberverObj)};toggleClasses=(t,e)=>t.classList.toggle(e);getMainToContentIndex=()=>this.content.length-(this.absToPercent(this.main.clientWidth,this.getTotalElementsWidth()).toFixed()/100*this.content.length).toFixed();setSliderPositionX=(t,e)=>t.style.transform=`translateX(${e}%)`;setSliderPositionY=(t,e)=>t.style.transform=`translateY(${e}%)`;getPositionX=t=>t.type.includes("mouse")?t.pageX:t.touches[0].clientX;absToPercent=(t,e)=>t/e*100;percentToAbsolute=(t,e)=>t/100*e;setSlideNumber=t=>t.textContent=this.currentIndex+1;setPrevTranslation=()=>this.prevTranslation=this.currentIndex*-this.absToPercent(this.content[0].clientWidth+this.margin,this.main.clientWidth);setCurrentXTranslation=()=>this.currentTranslationX=this.currentIndex*-this.translateStepX;setCurrentFullBodyTranslation=t=>this.currentIndex*t;getMargin=()=>{this.margin=+getComputedStyle(this.content[0]).marginLeft.split("px").join(""),this.elemntsMargins=this.absToPercent(this.margin*this.content.length,this.getTotalElementsWidth())-this.stopperFactor};getTranslateStepX=()=>this.translateStepX=(this.content[0].clientWidth+this.margin)/this.main.clientWidth*100;getTotalElementsWidth=()=>(this.content[0].clientWidth+this.margin)*this.content.length}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".coffee__toggle-btn")],e=[...document.querySelectorAll(".coffee__item")],i=document.querySelector(".coffee__body-wrapper"),s=document.querySelector(".coffee__resizeOberver"),n=new Slider(e,i,t,s,null,null,0,null,null);n.getMargin(),n.getUnactiveElts(),n.getTranslateStepX(),n.initArrowsBtns(),n.initDrag(),n.contextMenu(),n.slideResizeObserver();const r=[...document.querySelectorAll(".combo__toggle-btn")],o=[...document.querySelectorAll(".combo__item")],a=document.querySelector(".combo__body-wrapper"),l=document.querySelector(".combo__resizeOberver"),h=new Slider(o,a,r,l,null,null,0,null,null);h.getMargin(),h.getUnactiveElts(),h.getTranslateStepX(),h.initArrowsBtns(),h.initDrag(),h.contextMenu(),h.slideResizeObserver();const c=[...document.querySelectorAll(".giftset__body-wrapper")],g=document.querySelector(".giftset__body"),u=[...document.querySelectorAll(".togglers__item")],d=document.querySelector(".togglers__item-move"),m=document.querySelector(".togglers__slide-number"),v=document.querySelector(".togglers__resize-observer"),b=new Slider(c,g,null,null,u,d,null,m,v);b.getMargin(),b.getTranslateStepX(),b.initToggleBtns(),b.toggleContainerResizeObserver()}));