class Styles{static addTransition(t,e,s,i){console.log(t,e,s,i),t.style.transition=`${e} ${s} ${i}`}}class ClassToggle{static addClass(t,e){t.classList.add(e)}static removeClass(t,e){t.classList.remove(e)}static toggleClass(t,e){t.classList.toggle(e)}}class Modal{constructor(t,e,s,i,o,n,a,l,r,c,h,d){this.body=t,this.popup=e,this.popupModal=s,this.popupModalWrapper=i,this.wrapperMargin=o,this.btnPopup=n,this.closeBtn=a,this.formInputs=l,this.popupModalActive=r,this.popupHidden=c,this.bodyNoScroll=h,this.staticForm=d,this.initEvents()}initEvents=()=>{console.log(this.btnPopup),this.initArrayBtnPopup(),this.initCloseBtn()};initCloseBtn=()=>{this.popup.addEventListener("click",(t=>{console.log(t.target),(t.target.classList.contains("popup__modal--active")||t.target.classList.contains("popup__modal-close")||"close"===t.target.dataset.modal)&&(t.stopPropagation(),console.log(t.target.classList,this.popupModal),this.popupModal.map(((t,e)=>{console.log(t.classList.contains(this.popupModalActive)),t.classList.contains(this.popupModalActive)&&(console.log(this.body),ClassToggle.removeClass(this.body,this.bodyNoScroll),this.removeNoScrollStyles(this.body),console.log(t),!t.classList.contains(this.staticForm)&&ClassToggle.removeClass(t,this.popupModalActive),ClassToggle.addClass(this.popup,this.popupHidden))})))}))};initArrayBtnPopup=()=>{this.btnPopup.map(((t,e)=>{console.log(t,t.type),"submit"===t.type?(console.log("ok"),this.popupModal.map(((t,e)=>{"form"===t.dataset.modal&&this.submitForm(t)}))):t.addEventListener("click",(()=>{this.popupModal.map(((e,s)=>{Styles.addTransition(e.children[0],"all","0.5s","ease-in-out"),t.dataset.modal===e.dataset.modal&&("form"===e.dataset.modal&&this.submitForm(e),window.innerWidth-this.body.offsetWidth>0&&this.addMarginToBlock(this.popupModalWrapper[s]),!this.body.classList.contains(this.bodyNoScroll)&&(this.addNoScrollStyles(this.body),ClassToggle.addClass(this.body,this.bodyNoScroll)),ClassToggle.addClass(e,this.popupModalActive),console.log("ok"),this.popup.classList.contains(this.popupHidden)&&ClassToggle.removeClass(this.popup,this.popupHidden))}))}))}))};addNoScrollStyles=t=>{console.log("pk"),t.style.paddingRight=window.innerWidth-this.body.offsetWidth+"px",t.style.width="100vw"};addMarginToBlock=t=>{ClassToggle.addClass(t,this.wrapperMargin)};removeNoScrollStyles=t=>{t.style.paddingRight="0px",t.style.width="100%"};submitForm=t=>{console.log(t),t.addEventListener("submit",(e=>{console.log("ok"),e.preventDefault(),!t.classList.contains(this.staticForm)&&ClassToggle.removeClass(t,this.popupModalActive),this.popup.classList.contains(this.popupHidden)&&ClassToggle.removeClass(this.popup,this.popupHidden),this.clearFields(this.formInputs),this.popupModal.map(((t,s)=>{"success"===t.dataset.modal&&(console.log(this.staticForm),ClassToggle.addClass(t,this.popupModalActive)),console.log(e.target,t)}))}))};clearFields=t=>{console.log(t),t.map(((t,e)=>t.value=""))}}document.addEventListener("DOMContentLoaded",(()=>{if(null!==document.getElementById("popup-main")){let t=document.querySelector(".body"),e=document.querySelector(".popup"),s=[...document.querySelectorAll(".popup__modal")],i=[...document.querySelectorAll(".popup__modal-wrapper")],o=[...document.querySelectorAll(".btn__popup")],n=[...document.querySelectorAll(".popup__modal-close")],a=[...document.querySelectorAll(".contact-form__input")],l="popup__modal--active",r="popup--hidden",c="body--noscroll",h="popup__modal-wrapper--margin";console.log(n),new Modal(t,e,s,i,h,o,n,a,l,r,c)}}));const footerYear=document.querySelector(".footer-contacts__year "),getedYear=()=>footerYear.textContent=`${(new Date).getFullYear()}`;footerYear.textContent=`${(new Date).getFullYear()}`;class Mail{constructor(t,e,s,i){this.btn=t,this.name=e,this.amount=s,this.phone=i}"сontactData"=()=>({name:{value:this.name.value,item:this.name,re:/^[a-zA-Zа-яА-Я0-9]{2,16}$/},phone:{value:this.phone.value,item:this.phone,re:/^[78]{1}[9]{1}[0-9]{9}$/}});contactDataArray=()=>Object.entries(this.сontactData());sendMail(){console.log(this.btn),this.btn.addEventListener("click",(t=>{console.log("ok"),this.mailValidation(t)})),document.addEventListener("keydown",(t=>{"Enter"===t.code&&this.mailValidation(t)}))}mailValidation(t){if(t.preventDefault(),this.validateData()){console.log("ok"),this.contactDataArray().map((t=>t[1].item.nextElementSibling.classList.contains("contact__invalid--show")&&t[1].item.nextElementSibling.classList.remove("contact__invalid--show")));let t={name:this.name.value,phone:this.phone.value};console.log(t)}}makeRequest=(t,e)=>{let s=new XMLHttpRequest;s.open("POST","/"),s.setRequestHeader("content-type","application/json"),s.onload=function(){if("success"===s.responseText){document.querySelector(".order").classList.add("modal--active"),t.removeFields()}else console.log("some")},s.send(JSON.stringify(e))};removeFields=()=>this.contactDataArray().map(((t,e)=>t[1].item.value=""));validateData=()=>(console.log(this.contactDataArray()),this.contactDataArray().every(((t,e)=>!!t[1].re.test(t[1].value)||this.setAlert(t[1].item)))&&!0);setAlert(t){console.log(t),t.nextElementSibling.classList.add("contact-form__invalid--show"),setTimeout((()=>{t.nextElementSibling.classList.remove("contact-form__invalid--show")}),1e4)}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".contact-form__btn"),e=document.getElementById("name"),s=document.getElementById("phone");new Mail(t,e,null,s).sendMail()}));class Sidebar{constructor(t,e,s,i,o,n,a,l){this.page=t,this.sections=e,this.menuItems=s,this.mobileMenuItems=i,this.index=0,this.sidebar=n,this.hamburgerMenu=o,this.sidebarBody=a,this.sidebarOverlay=l}sidebarManipulation=()=>{console.log("ok"),window.onresize=()=>{window.innerWidth>1224&&this.sidebar.classList.contains("page__sidebar--active")&&(this.sidebar.classList.contains("sidebar--full-page")&&this.page.classList.toggle("page_screen_full"),this.removeSidebar())},this.sidebarOverlay.onclick=()=>this.removeSidebar(),this.hamburgerMenu.onclick=t=>this.toggleSidebar(),this.mobileMenuItems.map((t=>t.onclick=()=>this.removeSidebar()))};toggleSidebar=()=>{console.log("ok"),this.sidebar.classList.contains("sidebar--full-page")&&this.page.classList.toggle("page_screen_full"),this.sidebar.classList.toggle("page__sidebar--active"),this.page.classList.toggle("page--noScroll"),this.sidebarBody.classList.toggle("sidebar__body--active"),this.sidebarOverlay.classList.toggle("overlay--show"),this.hamburgerMenu.classList.toggle("hamburger-menu__content--active")};removeSidebar=()=>{this.sidebar.classList.contains("sidebar--full-page")&&this.page.classList.remove("page_screen_full"),this.sidebar.classList.remove("page__sidebar--active"),this.page.classList.remove("page--noScroll"),this.sidebarBody.classList.remove("sidebar__body--active"),this.sidebarOverlay.classList.remove("overlay--show"),this.hamburgerMenu.classList.remove("hamburger-menu__content--active")};menuItemsInit=()=>{this.menuItems.map(((t,e)=>t.onclick=()=>{this.changeItemStyle(e)}))};changeItemStyle=t=>{console.log("object");document.querySelector(".menu__items--active").classList.remove("menu__items--active"),this.menuItems[t].classList.add("menu__items--active")}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".page"),e=[...document.querySelectorAll(".section")],s=[...document.querySelectorAll(".menu__items")],i=[...document.querySelectorAll(".mobile-menu__item")],o=document.querySelector(".page__sidebar"),n=document.querySelector(".sidebar__content"),a=document.querySelector(".overlay"),l=document.querySelector(".hamburger-menu__content"),r=new Sidebar(t,e,s,i,l,o,n,a);r.menuItemsInit(),r.sidebarManipulation()}));class Slider{constructor(t,e,s,i,o,n,a,l,r){this.content=t,this.main=e,this.arrow=s,this.slideResizeOberverObj=i,this.toggleResizeOberverObj=r,this.toggleBtn=o,this.toggleMoveGif=n,this.slideNumber=l,this.isDragging=!1,this.currentIndex=0,this.startPos=0,this.translateStepX=0,this.currentTranslationX=0,this.currentTranslationMove,this.margin=0,this.elemntsMargins=0,this.prevTranslation=0,this.animationID=0,this.stopperFactor=a,this.oserver=null}initDrag=()=>{this.content.map(((t,e)=>{t.addEventListener("dragstart",(t=>t.preventDefault())),t.addEventListener("touchstart",this.touchStart(e),{passive:!0}),t.addEventListener("touchend",(t=>this.touchEnd(t))),t.addEventListener("touchmove",this.touchMove,{passive:!0}),t.addEventListener("mousedown",this.touchStart(e),{passive:!0}),t.addEventListener("mouseup",(t=>this.touchEnd(t))),t.addEventListener("mousemove",this.touchMove,{passive:!0}),t.addEventListener("mouseleave",(t=>this.isDragging&&this.touchEnd(t)))}))};contextMenu=()=>{window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1)};animation=()=>{this.setSliderPositionX(this.main,this.currentTranslationX),this.isDragging&&requestAnimationFrame(this.animation)};touchStart=t=>t=>{this.main.classList.remove("carousel__content--smooth"),this.startPos=this.getPositionX(t),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation)};touchMove=t=>{if(this.isDragging){let e=this.getPositionX(t);console.log((this.translateStepX*this.content.length+this.elemntsMargins).toFixed()),console.log((Math.abs(this.currentTranslationX)+100).toFixed()),(Math.abs(this.currentTranslationX)+100).toFixed()<=(this.translateStepX*this.content.length+this.elemntsMargins).toFixed()&&this.currentTranslationX<2&&(this.currentTranslationX=this.absToPercent(this.prevTranslation*this.main.clientWidth/100+e-this.startPos,this.main.clientWidth))}};touchEnd=t=>{cancelAnimationFrame(this.animationID),this.isDragging=!1,this.main.classList.add("carousel__content--smooth"),this.currentIndex<this.content.length&&Math.abs(this.currentTranslationX)>Math.abs(this.prevTranslation)+this.translateStepX/3&&this.currentIndex++,this.currentIndex>=0&&Math.abs(this.currentTranslationX)<Math.abs(this.prevTranslation)-this.translateStepX/3&&this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts()};initArrowsBtns=()=>{this.arrow[0].addEventListener("click",(()=>this.left())),this.arrow[1].addEventListener("click",(()=>this.rigth()))};rigth=()=>{this.currentIndex<this.getMainToContentIndex()&&(this.currentIndex++,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};left=()=>{Math.abs(this.currentTranslationX)>0&&(this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};initToggleBtns=()=>{this.toggleBtn.map(((t,e)=>t.addEventListener("click",(()=>{!this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),this.currentIndex=e,this.setCurrentXTranslation(),this.setSliderPositionX(this.main,this.currentTranslationX),console.log(t),this.setSlideText(this.slideNumber,t),"column"===this.direction()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))}))))};direction=()=>window.getComputedStyle(this.toggleBtn[0].parentElement).flexDirection;changeArrowActivity=()=>{console.log(this),Math.abs(this.currentTranslationX)>0?this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.remove("carousel__toggle-btn--unactive"):!this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.add("carousel__toggle-btn--unactive"),this.currentIndex===this.getMainToContentIndex()?this.arrow[1].classList.add("carousel__toggle-btn--unactive"):this.arrow[1].classList.remove("carousel__toggle-btn--unactive")};getUnactiveElts=()=>this.content.map(((t,e)=>{const s=this.percentToAbsolute(Math.abs(this.currentTranslationX),this.main.clientWidth).toFixed();this.main.clientWidth<=t.offsetLeft+this.margin+e-s||t.offsetLeft+e-s<0?t.classList.add("carousel__item--unActive"):t.classList.contains("carousel__item--unActive")&&t.classList.remove("carousel__item--unActive")}));slideRzeObrCallback=t=>{if(this.getTranslateStepX(),this.currentIndex>this.getMainToContentIndex()){const t=this.currentIndex-this.getMainToContentIndex();this.currentIndex-=t}console.log(this.currentIndex),this.setPrevTranslation(),this.getMainToContentIndex(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts()};slideResizeObserver=()=>{this.resizerSlide=new ResizeObserver(this.slideRzeObrCallback),this.resizerSlide.observe(this.slideResizeOberverObj)};toggleContainerRzeObrCallback=()=>{this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),"column"===this.direction()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))};toggleContainerResizeObserver=()=>{this.resizerToggler=new ResizeObserver(this.toggleContainerRzeObrCallback),console.log(this.toggleResizeOberverObj),this.resizerToggler.observe(this.toggleResizeOberverObj)};toggleClasses=(t,e)=>t.classList.toggle(e);getMainToContentIndex=()=>this.content.length-(this.absToPercent(this.main.clientWidth,this.getTotalElementsWidth()).toFixed()/100*this.content.length).toFixed();setSliderPositionX=(t,e)=>t.style.transform=`translateX(${e}%)`;setSliderPositionY=(t,e)=>t.style.transform=`translateY(${e}%)`;getPositionX=t=>t.type.includes("mouse")?t.pageX:t.touches[0].clientX;absToPercent=(t,e)=>t/e*100;percentToAbsolute=(t,e)=>t/100*e;setSlideText=(t,e)=>t.textContent=e.textContent;setPrevTranslation=()=>this.prevTranslation=this.currentIndex*-this.absToPercent(this.content[0].clientWidth+this.margin,this.main.clientWidth);setCurrentXTranslation=()=>this.currentTranslationX=this.currentIndex*-this.translateStepX;setCurrentFullBodyTranslation=t=>this.currentIndex*t;getMargin=()=>{this.margin=+getComputedStyle(this.content[0]).marginLeft.split("px").join(""),this.elemntsMargins=this.absToPercent(this.margin*this.content.length,this.getTotalElementsWidth())-this.stopperFactor};getTranslateStepX=()=>this.translateStepX=(this.content[0].clientWidth+this.margin)/this.main.clientWidth*100;getTotalElementsWidth=()=>(this.content[0].clientWidth+this.margin)*this.content.length}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".services__slide")],e=document.querySelector(".services__body"),s=[...document.querySelectorAll(".togglers__item")],i=document.querySelector(".togglers__item-move"),o=document.querySelector(".togglers__slide-number"),n=document.querySelector(".togglers__resize-observer"),a=new Slider(t,e,null,null,s,i,null,o,n);a.getMargin(),a.getTranslateStepX(),a.initToggleBtns(),a.toggleContainerResizeObserver()}));