class Slider{constructor(t,e,i,n,s,r){this.content=t,this.main=e,this.arrow=i,this.toggleBtn=n,this.toggleMoveGif=s,this.isDragging=!1,this.currentIndex=0,this.startPos=0,this.translateStepX=0,this.currentTranslationX=0,this.currentTranslationY,this.margin=0,this.elemntsMargins=0,this.prevTranslation=0,this.animationID=0,this.stopperFactor=r}contextMenu=()=>{window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1)};initDrag=()=>{this.content.map(((t,e)=>{t.addEventListener("dragstart",(t=>t.preventDefault())),t.addEventListener("touchstart",this.touchStart(e),{passive:!0}),t.addEventListener("touchend",(t=>this.touchEnd(t))),t.addEventListener("touchmove",this.touchMove,{passive:!0}),t.addEventListener("mousedown",this.touchStart(e),{passive:!0}),t.addEventListener("mouseup",(t=>this.touchEnd(t))),t.addEventListener("mousemove",this.touchMove,{passive:!0}),console.log("ok"),t.addEventListener("mouseleave",(t=>this.isDragging&&this.touchEnd(t)))}))};touchStart=t=>t=>{this.main.classList.remove("carousel__content--smooth"),this.startPos=this.getPositionX(t),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation)};touchEnd=t=>{cancelAnimationFrame(this.animationID),this.isDragging=!1,this.main.classList.add("carousel__content--smooth"),this.currentIndex<this.content.length&&Math.abs(this.currentTranslationX)>Math.abs(this.prevTranslation)+this.translateStepX/3&&(this.currentIndex++,console.log("ok")),this.currentIndex>=0&&(console.log(this.content.length-1),Math.abs(this.currentTranslationX)<Math.abs(this.prevTranslation)-this.translateStepX/3&&this.currentIndex--),this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main),this.getUnactiveElts()};touchMove=t=>{if(this.isDragging){let e=this.getPositionX(t);Math.abs(this.currentTranslationX)+100<=this.translateStepX*this.content.length+this.elemntsMargins&&this.currentTranslationX<2&&(console.log(Math.abs(this.currentTranslationX)),this.currentTranslationX=(this.prevTranslation*this.main.clientWidth/100+e-this.startPos)/this.main.clientWidth*100)}};animation=()=>{this.setSliderPositionX(this.main),this.isDragging&&requestAnimationFrame(this.animation)};setSliderPositionX=t=>t.style.transform=`translateX(${this.currentTranslationX}%)`;setSliderPositionY=t=>t.style.transform=`translateY(${-this.currentTranslationY}%)`;getPositionX=t=>t.type.includes("mouse")?t.pageX:t.touches[0].clientX;absToPercent=(t,e)=>t/e*100;initArrowsBtns=()=>{this.arrow[0].addEventListener("click",(()=>this.left())),this.arrow[1].addEventListener("click",(()=>this.rigth()))};initToggleBtns=()=>{this.toggleBtn.map(((t,e)=>t.addEventListener("click",(()=>{this.currentIndex=e,console.log(this.currentIndex),this.setCurrentXTranslation(),this.setSliderPositionX(this.main),this.setCurrentYTranslation(),this.setSliderPositionY(this.toggleMoveGif),this.setSlideNumber(this.toggleMoveGif)}))))};setSlideNumber=t=>t.textContent=this.currentIndex+1;rigth=()=>{2*Math.abs(this.currentTranslationX)+100<=this.translateStepX*this.content.length+this.elemntsMargins&&(this.currentIndex++,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main),this.getUnactiveElts())};left=()=>{console.log(Math.abs(this.currentTranslationX)),Math.abs(this.currentTranslationX)>0&&(this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main),this.getUnactiveElts())};changeArrowActivity=()=>{Math.abs(this.currentTranslationX)>0?this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.remove("carousel__toggle-btn--unactive"):this.arrow[0].classList.add("carousel__toggle-btn--unactive"),Math.abs(this.currentTranslationX)+Math.abs(this.currentTranslationX)+100>=this.translateStepX*this.content.length+this.elemntsMargins?this.arrow[1].classList.add("carousel__toggle-btn--unactive"):this.arrow[1].classList.remove("carousel__toggle-btn--unactive")};setPrevTranslation=()=>this.prevTranslation=this.currentIndex*-(this.content[0].clientWidth+this.margin)/this.main.clientWidth*100;setCurrentXTranslation=()=>this.currentTranslationX=this.currentIndex*-this.translateStepX;setCurrentYTranslation=()=>this.currentTranslationY=this.currentIndex*-this.translateStepY;getUnactiveElts=()=>this.content.map((t=>{const e=(Math.abs(this.currentTranslation)*this.main.clientWidth/100).toFixed();this.main.clientWidth<t.offsetLeft+this.margin-e||t.offsetLeft-e<0?(console.log("ok"),t.classList.add("carousel__item--unActive")):(console.log(t),t.classList.contains("carousel__item--unActive")&&t.classList.remove("carousel__item--unActive"))}));getMargin=()=>{this.margin=+getComputedStyle(this.content[0]).marginLeft.split("px").join(""),this.elemntsMargins=this.absToPercent(this.margin*this.content.length,this.getTotalElementsWidth())-this.stopperFactor};getTranslateStepX=()=>this.translateStepX=(this.content[0].clientWidth+this.margin)/this.main.clientWidth*100;getTranslateStepY=()=>this.translateStepY=100;getTotalElementsWidth=()=>(this.content[0].clientWidth+this.margin)*this.content.length}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".coffee__toggle-btn")],e=[...document.querySelectorAll(".coffee__item")],i=document.querySelector(".coffee__body-wrapper"),n=new Slider(e,i,t,null,null,0);n.getMargin(),n.getUnactiveElts(),n.getTranslateStepX(),n.initArrowsBtns(),n.initDrag(),n.contextMenu();const s=[...document.querySelectorAll(".combo__toggle-btn")],r=[...document.querySelectorAll(".combo__item")],a=document.querySelector(".combo__body-wrapper"),o=new Slider(r,a,s,null,null,4);o.getMargin(),o.getUnactiveElts(),o.getTranslateStepX(),o.initArrowsBtns(),o.initDrag(),o.contextMenu();const h=[...document.querySelectorAll(".giftset__body-wrapper")],l=document.querySelector(".giftset__body"),c=[...document.querySelectorAll(".togglers__item")],g=document.querySelector(".togglers__item-move"),u=new Slider(h,l,null,c,g,null);u.getMargin(),u.getTranslateStepX(),u.getTranslateStepY(g,l),u.initToggleBtns()}));